# WHATWG Spec Table of Contents Extension

WHATWG仕様書のページに浮動する目次を表示するChrome拡張機能です。

## 機能

- **自動目次生成**: https://html.spec.whatwg.org/ のページで自動的に目次を生成・表示
- **浮動表示**: 画面右上に常に表示される浮動ウィンドウ
- **ドラッグ移動**: 目次ウィンドウはドラッグして好きな位置に移動可能
- **折りたたみ**: 目次の表示/非表示を切り替え可能
- **スムーズスクロール**: アンカーリンクをクリックすると該当箇所にスムーズにスクロール
- **階層表示**: h1-h6のヘッダーレベルに応じたインデント表示
- **レスポンシブ**: 画面サイズに応じて目次のサイズを調整
- **翻訳対応**: ブラウザの翻訳機能使用時も目次が翻訳される

## インストール方法

### 開発者モードでの手動インストール

1. このフォルダ全体をダウンロード
2. Chromeを開き、アドレスバーに `chrome://extensions/` を入力
3. 右上の「開発者モード」をオンに切り替え
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. このフォルダ（`whatwg-toc`）を選択

## 使用方法

1. https://html.spec.whatwg.org/ にアクセス
2. ページが読み込まれると、右上に「目次」ウィンドウが自動表示される
3. 目次内のリンクをクリックすると該当箇所にスクロール
4. 目次ヘッダーをドラッグして位置を調整可能
5. 「−」ボタンで目次を折りたたみ/展開可能

## ファイル構成

- `manifest.json` - 拡張機能の設定ファイル
- `content.js` - 目次生成と機能実装のメインスクリプト
- `toc.css` - 目次のスタイル定義
- `README.md` - このファイル

## カスタマイズ

CSSファイル（`toc.css`）を編集することで、目次の見た目をカスタマイズできます：

- 位置の変更（デフォルト：右上）
- サイズの調整
- 色テーマの変更
- フォントサイズの調整

## 対応ブラウザ

- Google Chrome（Manifest V3対応）
- Chromium系ブラウザ

## 技術仕様

- Manifest V3
- Content Scripts
- CSS3
- JavaScript（ES6+）