# WHATWG Spec Table of Contents Extension

WHATWG仕様書のページに浮動する目次を表示するChrome拡張機能です。

## デモ

https://github.com/user-attachments/assets/screen.mov

## 機能

- **自動目次生成**: https://html.spec.whatwg.org/ のページで自動的に目次を生成・表示
- **浮動表示**: 画面右上に常に表示される浮動ウィンドウ
- **ドラッグ移動**: 目次ウィンドウはドラッグして好きな位置に移動可能
- **折りたたみ**: 目次の表示/非表示を切り替え可能
- **スムーズスクロール**: アンカーリンクをクリックすると該当箇所にスムーズにスクロール
- **階層表示**: h1-h6のヘッダーレベルに応じたインデント表示
- **レスポンシブ**: 画面サイズに応じて目次のサイズを調整
- **翻訳対応**: ブラウザの翻訳機能使用時も目次が翻訳される

## インストール方法

### 開発者モードでの手動インストール

1. このフォルダ全体をダウンロード
2. Chromeを開き、アドレスバーに `chrome://extensions/` を入力
3. 右上の「開発者モード」をオンに切り替え
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. このフォルダ（`whatwg-toc`）を選択

## 使用方法

1. https://html.spec.whatwg.org/ にアクセス
2. ページが読み込まれると、右上に「目次」ウィンドウが自動表示される
3. 目次内のリンクをクリックすると該当箇所にスクロール
4. 目次ヘッダーをドラッグして位置を調整可能
5. 「−」ボタンで目次を折りたたみ/展開可能

## ファイル構成

- `manifest.json` - 拡張機能の設定ファイル
- `content.js` - 目次生成と機能実装のメインスクリプト
- `toc.css` - 目次のスタイル定義
- `README.md` - このファイル

## カスタマイズ

CSSファイル（`toc.css`）を編集することで、目次の見た目をカスタマイズできます：

- 位置の変更（デフォルト：右上）
- サイズの調整
- 色テーマの変更
- フォントサイズの調整

## 対応ブラウザ

- Google Chrome（Manifest V3対応）
- Chromium系ブラウザ

## プライバシーポリシー

この拡張機能は、利用者のプライバシーを最優先に設計されています。

### データの収集・送信について

- **データ収集なし**: この拡張機能は、ユーザーの個人情報や閲覧履歴を一切収集しません
- **外部通信なし**: インターネット経由でのデータ送信は行いません
- **ローカル処理のみ**: すべての処理は利用者のブラウザ内で完結します
- **トラッキング禁止**: ユーザーの行動を追跡する機能はありません

### 権限について

この拡張機能が要求する権限は以下の通りです：

- **activeTab**: 現在表示中のタブ（WHATWG仕様書ページ）にのみアクセスし、目次を生成するために使用します
- **ストレージなし**: ユーザーデータの保存は行いません（設定も含む）
- **ネットワークアクセスなし**: 外部サーバーへの通信は一切行いません

### セキュリティ

- **最小権限の原則**: 必要最小限の権限のみ要求
- **オープンソース**: ソースコードは完全に公開されており、機能を検証可能
- **Manifest V3準拠**: Googleの最新セキュリティ標準に準拠

### 対象サイト

この拡張機能は `https://html.spec.whatwg.org/` でのみ動作し、他のサイトにアクセスすることはありません。

## 技術仕様

- Manifest V3
- Content Scripts
- CSS3
- JavaScript（ES6+）